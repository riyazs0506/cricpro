{% extends "base.html" %}
{% block content %}

<style>
/* ===============================
   FIX INPUT BLOCKING ISSUE
================================ */

/* Ensure nothing blocks inputs */
table, tr, td, th {
  position: static !important;
  pointer-events: auto !important;
}

input, select, textarea {
  pointer-events: auto !important;
  user-select: auto !important;
  opacity: 1 !important;
  z-index: 10 !important;
}

/* Remove accidental overlays */
.card, .container, .table-responsive {
  overflow: visible !important;
}

/* Better mobile touch */
input[type="number"] {
  font-size: 16px; /* iOS fix */
}

/* Visual improvement */
.nutrition-input {
  background: #fff !important;
  border: 1px solid #ced4da !important;
}
</style>

<div class="container mt-4">

  <h4 class="fw-bold mb-3">ðŸ§® Nutrition Calculator</h4>

  <form method="POST" autocomplete="off">

    <div class="table-responsive">
      <table class="table table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th>Food</th>
            <th style="width:140px;">Quantity</th>
            <th>Calories</th>
            <th>Protein (g)</th>
            <th>Carbs (g)</th>
            <th>Fat (g)</th>
          </tr>
        </thead>

        <tbody>
          {% for f in foods %}
          <tr>
            <td class="fw-semibold">{{ f.name }}</td>

            <td>
              <input
                type="number"
                step="0.1"
                min="0"
                name="qty_{{ f.id }}"
                class="form-control nutrition-input"
                placeholder="Enter qty"
              >
            </td>

            <td>{{ f.calories }}</td>
            <td>{{ f.protein }}</td>
            <td>{{ f.carbs }}</td>
            <td>{{ f.fat }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <button type="submit" class="btn btn-success w-100 mt-3">
      ðŸ’¾ Save & Share to Nutrition Group
    </button>

  </form>

</div>

{% endblock %}